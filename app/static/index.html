async function loadOrders() {
      const res = await fetch(`${API}/orders`);
      const data = await res.json();
      const list = document.getElementById('ordersList');
      list.innerHTML = '';
      data.forEach(o => {
        list.innerHTML += <li class="list-group-item">#${o.id} | Mijoz ${o.customer_id}, Zapchast ${o.part_id}, Soni: ${o.quantity}</li>;
      });
    }

    document.getElementById('customerForm').addEventListener('submit', async e => {
      e.preventDefault();
      await fetch(`${API}/customers`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ full_name: custName.value, phone: custPhone.value })
      });
      e.target.reset(); loadCustomers();
    });

    document.getElementById('partForm').addEventListener('submit', async e => {
      e.preventDefault();
      await fetch(`${API}/parts`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ name: partName.value, price: +partPrice.value, quantity: +partQty.value })
      });
      e.target.reset(); loadParts();
    });

    document.getElementById('orderForm').addEventListener('submit', async e => {
      e.preventDefault();
      await fetch(`${API}/orders`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
          customer_id: +orderCustomer.value,
          part_id: +orderPart.value,
          quantity: +orderQty.value
        })
      });
      e.target.reset(); loadOrders(); loadParts();
    });

    loadCustomers(); loadParts(); loadOrders();
  </script>
</body>
</html>
